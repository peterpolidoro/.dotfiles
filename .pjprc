#! /bin/sh

# Adjust the prompt depending on whether we're in 'guix environment'.
if [ -n "$GUIX_ENVIRONMENT" ]
then
    export PS1='[env]\u@\h \w\$ '
fi

PS1='\[\e[0;95m\]\w\[\e[0;94m\]:\[\e[0;94m\]$(git branch 2>/dev/null | grep '"'"'^*'"'"' | colrm 1 2)\n\[\e[0;2m\]\u\[\e[0;2m\]@\[\e[0;2m\]\H\[\e[0;97m\]\$ \[\e[0m\]'

# Load .bashrc-local to get local login environment
[ -f ~/.bashrc-local ] && . ~/.bashrc-local

mrstatus() { mr -m run git status -s; }
updateemailaddress() {
    find . \( -type d -name .git -prune \) -o -type f -print0 | xargs -0 sed -i 's/peterpolidoro\@gmail.com/peter\@polidoro.io/g';
    mr -q run git commit -a -m "Update email address";
    mr -q run git push origin master;
    mr -q run git push peterpolidoro master;
}
gitstatusall() {
    for f in $(pwd)/*; do
        if [ -d "$f" ]; then
            cd "$f";
            echo $(pwd);
            git status ;
        fi
    done
}
gitpushall() {
    for f in $(pwd)/*; do
        if [ -d "$f" ]; then
            cd "$f";
            echo $(pwd);
            git status;
        fi
    done
}
alias arduino='~/ArduinoIde/arduino-1.8.16/arduino'

eval "$(direnv hook bash)"
